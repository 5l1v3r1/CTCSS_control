# Управление MX465 CTCSS Encoder/Decoder

Скетч для управления микросхемой MX465 CTCSS Encoder/Decoder.
Управление не полное, так как делалось на заказ под определенные задачи.
 
Управление построено на Atmega328P (можно на любой другой, только необходимо
поправить конфигурацию портов в файле pins.h) с использованием платы индикации
и контроля от китайского ресивера. За индикацию и кнопки отвечает микросхема
FD650 (аналог TM1650).
![Alt-текст](https://github.com/ThinkerSan/CTCSS_control/blob/master/Doc/fd650.jpg "Плата управления")
  
В коде используется готовая библиотека TM16xx. https://github.com/maxint-rd/TM16xx 
```  
   Оригинальные коды клавиатуры с платы китайского ресивера:
    Standby: 27
    Menu:    15
    Ok:      11
    Up:      7
    Down:    3
    Left:    19
    Right:   23
```    
  Управление генератором тона следующее:
```
P.S. Можно назначить любые другие сочетания кнопок, просто мне было так удобней. =)
```
  * Кнопка `STANDBY` (здесь и далее обозначение как на плате)
  При длительном нажатии включает/отключает генератор тона,
  на дисплее выводится надпись `"OFF"`. При выключенном состоянии
  кнопки `"+"/"-"` на работу не влияют и параметры не меняют.
  * Кнопка `MENU` сохраняет параметры в энергонезависимую память.
  При этом дисплей мигнет три раза показывая сохраненные параметры.
  * Кнопки `OK` и `UP` соответственно `"+" и "-"`.  
  
   
  
  Для правильной работы генератора необходимо подать на выводы `5` и `6` MX465 логическую "1" и "0"
  соответственно. Это можно сделать как аппаратно - перемычками, так и программно - включив
  константу `SERIAL_CONFIG`, но для этого необходимо еще две сигнальные линии от контроллера,
  что, на мой взгляд, не рационально.
